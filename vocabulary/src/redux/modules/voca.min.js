import{db}from"../../firebase";import{collection,getDoc,getDocs,addDoc,updateDoc,doc,deleteDoc}from"firebase/firestore";const LOAD="voca/LOAD",CREATE="voca/CREATE",UPDATE="voca/UPDATE",DELETE="voca/DELETE",initialState={list:[]};export function loadVoca(voca_list){return{type:LOAD,voca_list:voca_list}}export function createVoca(voca){return{type:CREATE,voca:voca}}export function deleteVoca(id){return{type:DELETE,id:id}}export const loadVocaFB=()=>async function(dispatch){const voca_data=await getDocs(collection(db,"word"));console.log(voca_data);let voca_list=[];voca_data.forEach(voca=>{console.log(voca)}),dispatch(loadVoca(voca_list))};export default function reducer(state=initialState,action={}){switch(action.type){case LOAD:return[...state,action.voca_list];case CREATE:return[...state,{id:Date.now(),word:action.word,meaning:action.meaning,sentence:action.sentence,trans:action.trans}];case DELETE:console.log(state,action);const newVocaList=state.filter(v=>parseInt(action.id)!==v.id);return newVocaList;default:return state}}